<html lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>Your Page Title</title>
    <!-- Add other meta tags, CSS, or JavaScript here -->
    <style>
      /* Add your desired styles for the phone input container */
      .phone-input {
        display: flex;
        align-items: center;
        width: 300px;
        border: 1px solid #ccc;
        padding: 5px;
      }
      
      /* Add styles for the country code dropdown */
      #countryCode {
        width: 100px;
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <div class="phone-input">
      <select id="countryCode"></select>
      <input type="tel" id="phoneNumber" placeholder="Phone number" />
    </div>
    
    <button class="submitButton" id="submitButton">alert</button>
    <button onclick="downloadJSON()">Download JSON</button>
    
    <script type="text/javascript">
      // JavaScript to get the selected country code and phone number
      const countryCodeSelect = document.getElementById('countryCode');
      const phoneNumberInput = document.getElementById('phoneNumber');
      
      async function downloadJSON() {
        fetch('https://restcountries.com/v3.1/all').then((response) => response.json()).
        then((data) =>{
          console.log(data);
          const filename = "CountryData.json";
          const jsonStr = JSON.stringify(data, null, 2);
          const blob = new Blob([jsonStr], { type: "application/json" });
          
          if (window.navigator && window.navigator.msSaveOrOpenBlob) {
            // For IE and Edge browsers
            window.navigator.msSaveOrOpenBlob(blob, filename);
          } else {
            // For other browsers
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = filename;
            a.style.display = "none";
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
          }
        }).catch((error) => {
          console.error('Error fetching countries:', error);
        });
      }
      // Function to fetch the list of countries and their codes from an API or JSON file
      function fetchCountries() {
  // Replace the API URL or file path with your own data source
  fetch('https://restcountries.com/v3.1/all?fields=name,idd,flag,translations')
    .then((response) => response.json())
    .then((data) => {
      console.log(data);
      // Loop through the data to create options for the select element
      for (let country of data) {
        const option = document.createElement('option');
        const value = country.idd.suffixes.length > 1 ? country.idd.root : country.idd.root + country.idd.suffixes[0];
        option.value = value; // Country code, e.g., +1, +44, +49, etc.
        option.textContent = `${country.translations.kor.common} ${country.flag} (${value})`; // Country name and code, e.g., 대한민국 (+82)`
        
        // Check if the country is Korean, and set it as the default selected option
        if (country.translations.kor.common === "대한민국") {
          option.selected = true;
        }
        
        countryCodeSelect.appendChild(option);
      }
    })
    .catch((error) => {
      console.error('Error fetching countries:', error);
    });
}
      // Call the function to fetch and populate the countries
      fetchCountries();
      function getFullPhoneNumber() {
        const countryCode = countryCodeSelect.value;
        const phoneNumber = phoneNumberInput.value;
        const fullPhoneNumber = countryCode + phoneNumber;
        return fullPhoneNumber;
      }
      // Usage example
      document.getElementById('submitButton').addEventListener('click', () => {
        const fullPhoneNumber = getFullPhoneNumber();
        console.log('Full phone number: ', fullPhoneNumber);
        alert(fullPhoneNumber);
        // Do something with the full phone number, e.g., validate or submit the form
      });
    </script>
  </body>
</html>