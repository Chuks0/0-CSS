function AddNumber(e,t,a){let n=Number(t.innerText);const c=subtotalNumList[a].firstElementChild.innerText.replace(/[^0-9]/g,"");let l=parseInt(c);(n>1||e>0)&&(n+=e,e>0?l*=2:l/=2),t.innerText=n,localStorage.setItem("timeSelectedAmount",`${n}`),subtotalNumList[a].firstElementChild.innerText=`${l.toLocaleString()}Ïõê`}function initCalendar(e=!0){const t=new Date(year,month,1),a=new Date(year,month+1,0),n=new Date(year,month,0),c=n.getDate(),l=a.getDate(),i=t.getDay(),o=7-a.getDay()-1;toggleDisable(coachingBtn(counsolerList[0]),!0),date(counsolerList[0]).innerHTML=year+"."+months[month];let r='<div class="calendar_row">',s=0,d=0,m="",u="available";const h=new Date;h.getFullYear(),h.getMonth(),h.getDate();for(let e=i;e>0;e--){s++;const t=new Date(year,month,c-e+1);m=t.getTime()<h.getTime()?"passed":"",r+=`<div day="${s}" class="calendar_item day grey-out prev-date ${m}">${c-e+1}</div>`,s>=7&&(d++,s=0,r+=d>=6?"</div>":'</div><div class="calendar_row">')}for(let t=1;t<=l;t++){s++,m=availability(s)?u:"";let a=!1;eventsArr.forEach(e=>{if(e.day===t&&e.month===month+1&&e.year===year){let e=new Date;e.getFullYear()<=year&&e.getMonth()<=month&&e.getDate()<=t&&(a=!0)}}),t===(new Date).getDate()&&year===(new Date).getFullYear()&&month===(new Date).getMonth()?(activeDay=t,openPageDay(today.getDay()+1),a?(e&&(localStorage.setItem("timeSelectedYear",year),localStorage.setItem("timeSelectedMonth",month),localStorage.setItem("timeSelectedDate",t)),r+=e?`<div day="${s}" class="calendar_item day today active event ${m}">${t}</div>`:`<div day="${s}" class="calendar_item day today event ${m}">${t}</div>`):(e&&(localStorage.setItem("timeSelectedYear",year),localStorage.setItem("timeSelectedMonth",month),localStorage.setItem("timeSelectedDate",t)),r+=e?`<div day="${s}" class="calendar_item day today active ${m}">${t}</div>`:`<div day="${s}" class="calendar_item day today ${m}">${t}</div>`)):r+=a?`<div day="${s}" class="calendar_item day event ${m}">${t}</div>`:`<div day="${s}" class="calendar_item day ${m}">${t}</div>`,s>=7&&(d++,s=0,r+=d>=6?"</div>":'</div><div class="calendar_row">')}for(let e=1;e<=o;e++){s++;const t=new Date(year,month+1,e);m=t.getTime()<h.getTime()?"passed":"",r+=`<div day="${s}" class="calendar_item day grey-out next-date ${m}">${e}</div>`,s>=7&&(d++,s=0,r+=d>=6?"</div>":'</div><div class="calendar_row">')}for(;d<6;){d++;let e="",t=o+1;for(let a=0;a<7;a++)s++,e+=`<div day="${s}" class="calendar_item day grey-out next-date">${t}</div>`,t++;r+=e,r+=d>=6?"</div>":'</div><div class="calendar_row">'}daysContainer(counsolerList[0]).innerHTML=r,addListner()}function prevMonth(){month--,month<0&&(month=11,year--),initCalendar(!1)}function nextMonth(){month++,month>11&&(month=0,year++),initCalendar(!1)}function addListner(){const e=document.querySelectorAll(".day");e.forEach(t=>{t.addEventListener("click",a=>{activeDay=Number(a.target.innerHTML),e.forEach(e=>{e.classList.remove("active")}),a.target.classList.contains("prev-date")?(prevMonth(),setTimeout(()=>{const e=document.querySelectorAll(".day");e.forEach(e=>{e.classList.contains("prev-date")||e.innerHTML!==a.target.innerHTML||(e.classList.add("active"),localStorage.setItem("timeSelectedYear",year),localStorage.setItem("timeSelectedMonth",month),localStorage.setItem("timeSelectedDate",e.innerText))})},100)):a.target.classList.contains("next-date")?(nextMonth(),setTimeout(()=>{const e=document.querySelectorAll(".day");e.forEach(e=>{e.classList.contains("next-date")||e.innerHTML!==a.target.innerHTML||(e.classList.add("active"),localStorage.setItem("timeSelectedYear",year),localStorage.setItem("timeSelectedMonth",month),localStorage.setItem("timeSelectedDate",e.innerText))})},100)):(a.target.classList.add("active"),localStorage.setItem("timeSelectedYear",year),localStorage.setItem("timeSelectedMonth",month),localStorage.setItem("timeSelectedDate",t.innerText)),openPage(a.target)})})}function todayBtn(){today=new Date,month=today.getMonth(),year=today.getFullYear(),initCalendar()}function updateEvents(e){slotDay=e;let t="";switch(minSetVal){case"1":t=min30(e);break;case"2":t=min60(e);break;case"3":t=min90(e);break;case"4":t=min120(e);break;default:t=min60(e)}""===t&&(t='<div class="no-event">\n            <h3>No Availability</h3>\n        </div>'),eventsContainer(counsolerList[0]).innerHTML=t}function min30(e){let t="";for(let a=0;a<48;a++){let n="00",c="",l=a%2,i=Math.ceil((a+1)/2);1==l&&(n="30");let o=i>12?i%12:i,r=i>=12&&i<24?"PM":"AM";o=0==o?12:o;let s=o+":"+n+" "+r,d=1==l?(o+1>12?1:o+1)+":00"+(i+1>=12&&i+1<24?"PM":"AM"):o+":30 "+r,m=eventsArr.some(e=>{try{const t=parseInt(e.time.split(":")[0]),a=parseInt(e.time.split(":")[1].split(" ")[0]),n=e.time.split(" ")[1];return n===r?i===t&&(0===l&&a<30||1===l&&a>=30):"AM"===r&&"PM"===n?i===t+12&&(0===l&&a<30||1===l&&a>=30):"PM"===r&&"AM"===n&&(i===t-12&&(0===l&&a<30||1===l&&a>=30))}catch(e){return!1}});"s"!==weekSlotsArr[e-1][a]||m||(c="w--redirected-checked"),"n"===weekSlotsArr[e-1][a]||m||(t+=`<div class="w-checkbox checkbox-wrapper">\n            <div onclick="dateCheck('${e-1}', '${a}','${a+1}', this)"\n            id="${a}"\n            name="${s}"\n            value="${a}"\n            class="w-checkbox-input w-checkbox-input--inputType-custom checkbox-6 ${c}">\n                <div class="checkbox-label-7 w-form-label">${s} - ${d}</div>\n            </div>\n        </div>`)}return t}function min60(e,t){let a="";for(let n=0;n<48;n+=2){let c="00",l="",i=Math.ceil((n+1)/2),o=i>12?i%12:i,r=i>=12&&i<24?"PM":"AM";o=0==o?12:o;let s=o+":"+c+" "+r,d=(o+1>12?1:o+1)+":00"+(i+1>=12&&i+1<24?"PM":"AM"),m=t.some(e=>{try{const t=parseInt(e.time.split(":")[0]),a=e.time.split(" ")[1];return a===r?i===t:"AM"===r&&"PM"===a?i===t+12:"PM"===r&&"AM"===a&&i===t-12}catch(e){return!1}});"s"!==weekSlotsArr[e-1][n]||m||(l="w--redirected-checked"),"n"===weekSlotsArr[e-1][n]||m||(a+=`<div class="w-checkbox checkbox-wrapper">\n            <div onclick="dateCheck('${e-1}', '${n}','${n+2}', this)"\n                id="${n}"\n                name="${s}"\n                value="${n}"\n                class="w-checkbox-input w-checkbox-input--inputType-custom checkbox-6 ${l}">\n                <div class="checkbox-label-7 w-form-label">${s} - ${d}</div>\n            </div>\n        </div>`)}return a}function min90(e,t){let a="";for(let n=0;n<48;n+=3){let c="00",l="",i=Math.ceil((n+1)/2),o=i>12?i%12:i,r=i>=12&&i<24?"PM":"AM";o=0==o?12:o;let s=o+":"+c+" "+r,d=(o+2>12?o-10:o+2)+":00"+(i+2>=12&&i+2<24?"PM":"AM"),m=t.some(e=>{try{const t=parseInt(e.time.split(":")[0]),a=e.time.split(" ")[1];return a===r?i===t:"AM"===r&&"PM"===a?i===t+12:"PM"===r&&"AM"===a&&i===t-12}catch(e){return!1}});"s"!==weekSlotsArr[e-1][n]||m||(l="w--redirected-checked"),"n"===weekSlotsArr[e-1][n]||m||(a+=`<div class="w-checkbox checkbox-wrapper">\n            <div onclick="dateCheck('${e-1}', '${n}','${n+3}', this)"\n                id="${n}"\n                name="${s}"\n                value="${n}"\n                class="w-checkbox-input w-checkbox-input--inputType-custom checkbox-6 ${l}">\n                <div class="checkbox-label-7 w-form-label">${s} - ${d}</div>\n            </div>\n        </div>`)}return a}function min120(e,t){let a="";for(let n=0;n<48;n+=4){let c="00",l="",i=Math.ceil((n+1)/2),o=i>12?i%12:i,r=i>=12&&i<24?"PM":"AM";o=0==o?12:o;let s=o+":"+c+" "+r,d=(o+4>12?o-8:o+4)+":00"+(i+4>=12&&i+4<24?"PM":"AM"),m=t.some(e=>{try{const t=parseInt(e.time.split(":")[0]),a=e.time.split(" ")[1];return a===r?i===t:"AM"===r&&"PM"===a?i===t+12:"PM"===r&&"AM"===a&&i===t-12}catch(e){return!1}});"s"!==weekSlotsArr[e-1][n]||m||(l="w--redirected-checked"),"n"===weekSlotsArr[e-1][n]||m||(a+=`<div class="w-checkbox checkbox-wrapper">\n            <div onclick="dateCheck('${e-1}', '${n}','${n+4}', this)"\n                id="${n}"\n                name="${s}"\n                value="${n}"\n                class="w-checkbox-input w-checkbox-input--inputType-custom checkbox-6 ${l}">\n                <div class="checkbox-label-7 w-form-label">${s} - ${d}</div>\n            </div>\n        </div>`)}return a}function dateCheck(e,t,a,n){try{n!=timeSelected&&timeSelected.classList.remove("w--redirected-checked")}catch{}timeSelected=n,n.classList.contains("w--redirected-checked")?(n.classList.remove("w--redirected-checked"),selectedSlot[0]=null,selectedSlot[1]=null,localStorage.removeItem("timeSelectedDay"),localStorage.removeItem("timeSelectedTime")):(n.classList.add("w--redirected-checked"),selectedSlot[0]=e,selectedSlot[1]=t,localStorage.setItem("timeSelectedDay",e),localStorage.setItem("timeSelectedTime",t)),null!=localStorage.getItem("timeSelectedDay")?coachingBtn(counsolerList[0]).classList.contains("disabled")&&toggleDisable(coachingBtn(counsolerList[0]),!1):coachingBtn(counsolerList[0]).classList.contains("disabled")||toggleDisable(coachingBtn(counsolerList[0]),!0)}function toggleDisable(e,t){t?(e.classList.contains("disabled")||e.classList.add("disabled"),e.style.pointerEvents="none"):(e.classList.contains("disabled")&&e.classList.remove("disabled"),e.style.pointerEvents="auto")}function convertTime(e){let t=e.split(":"),a=t[0],n=t[1],c=a>=12?"PM":"AM";return a=a%12||12,e=a+":"+n+" "+c,e}function openPage(e){let t=e.getAttribute("day");updateEvents(t)}function openPageDay(e){updateEvents(e)}function setTimeSlot(e){let t=e.getAttribute("timeslot");minSet(t)}function setTimeSlotTime(e){minSet(e)}function minSet(e){minSetVal=e,updateEvents(slotDay)}const date=(e=document)=>e.querySelector(".date"),daysContainer=(e=document)=>e.querySelector(".days"),prev=(e=document)=>e.querySelectorAll(".prev"),next=(e=document)=>e.querySelectorAll(".next"),coachingBtn=(e=document)=>e.querySelector(".btn-coaching"),eventsContainer=(e=document)=>e.querySelector(".calendar-setup-timeslot"),calendarDays=(e=document)=>e.querySelectorAll(".checkbox-wrapper_day-setup"),setupDaysWraper=(e=document)=>e.querySelector(".calendar-setup-days-wrapper"),calendarTimes=(e=document)=>e.querySelectorAll(".checkbox-timer");let activeDay,today=new Date,month=today.getMonth(),year=today.getFullYear();const months=["01","02","03","04","05","06","07","08","09","10","11","12"],eventsArr=[],weekSlotsArr=[],selectedSlot=[],counsolerList=[];let timeSelected,minSetVal=0,slotDay=(new Date).getDay();const checkoutNumList=document.querySelectorAll(".checkout-qty-count"),subtotalNumList=document.querySelectorAll(".checkout-item-price");for(let e=0;e<checkoutNumList.length;e++)checkoutNumList[e].style.pointerEvents="none";document.querySelectorAll(".minus").forEach(e=>{e.addEventListener("click",()=>{for(let e=0;e<checkoutNumList.length;e++)AddNumber(-1,checkoutNumList[e].firstElementChild,e)})}),document.querySelectorAll(".add").forEach(e=>{e.addEventListener("click",()=>{for(let e=0;e<checkoutNumList.length;e++)AddNumber(1,checkoutNumList[e].firstElementChild,e)})}),calendarDays(counsolerList[0]).forEach(e=>{e.addEventListener("click",()=>openPage(e))}),calendarTimes(counsolerList[0]).forEach(e=>{e.addEventListener("click",()=>setTimeSlot(e))});const availability=e=>{const t=weekSlotsArr[e-1].find(e=>"a"===e);return null!=t};prev(counsolerList[0]).forEach(e=>e.addEventListener("click",prevMonth)),next(counsolerList[0]).forEach(e=>e.addEventListener("click",nextMonth)),initCalendar();